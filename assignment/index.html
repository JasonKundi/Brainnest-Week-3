<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock! Paper! Scissors!</title>
  </head>

  <body>
    <script>
      // initialise game counter
      let playerScore = 0;
      let computerScore = 0;

      // computer ranoom choice function
      const computerPlay = () => {
        let computerChoices = ["Rock", "Paper", "Scissors"];
        let choice =
          computerChoices[Math.floor(Math.random() * computerChoices.length)];
        return choice;
      };

      // playRound function compares inputs and returns string with winner
      const playRound = (playerSelection, computerSelection) => {
        if (playerSelection.toLowerCase() === computerSelection.toLowerCase()) {
          return "Tie!";
        } else if (
          playerSelection.toLowerCase() === "rock" &&
          computerSelection === "Scissors"
        ) {
          console.log(
            `You win! ${playerSelection} beats ${computerSelection}! Your score is:  ${playerScore}  Computer score is:  ${computerScore}`
          );
          playerScore++;
        } else if (
          playerSelection.toLowerCase() === "paper" &&
          computerSelection === "Rock"
        ) {
          console.log(
            `You win! ${playerSelection} beats ${computerSelection}! Your score is:  ${playerScore}  Computer score is:  ${computerScore}`
          );
          playerScore++;
        } else if (
          playerSelection.toLowerCase() === "scissors" &&
          computerSelection === "Paper"
        ) {
          console.log(
            `You win! ${playerSelection} beats ${computerSelection}! Your score is:  ${playerScore}  Computer score is:  ${computerScore}`
          );
        } else computerScore++;
        console.log(`You Lose! ${computerSelection} beats ${playerSelection}! Your score is:  ${playerScore}  Computer score is:  ${computerScore}`);
      };

      const game = () => {
        for (let i = 0; i < 5; i++) {
          let playerSelection = prompt(
            "Choose rock, paper, or scissors"
          ).toLowerCase();
          playRound(playerSelection, computerSelection);
        
        }
        if (playerScore > computerScore) {
          console.log(`You beat the computer ${playerScore} out of 5 rounds!`);
        } else {
          console.log(
            `Skynet has defeated you ${computerScore} out of 5 rounds, Your final score was: ${playerScore} to Computer's score of ${computerScore}!`
          );
        }
      };

      const computerSelection = computerPlay();
      console.log(game());
    </script>
  </body>
</html>
